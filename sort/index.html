<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo sort() - S·∫Øp x·∫øp s·∫£n ph·∫©m</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background-color: #f4f4f4; }
        
        /* Thanh ƒëi·ªÅu khi·ªÉn */
        .controls {
            margin-bottom: 20px;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        select { padding: 8px; font-size: 16px; border-radius: 4px; border: 1px solid #ccc; }

        /* L∆∞·ªõi s·∫£n ph·∫©m */
        #product-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); /* Responsive grid */
            gap: 20px;
        }

        /* Th·∫ª s·∫£n ph·∫©m */
        .card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }
        .card:hover { transform: translateY(-5px); }
        .card h3 { margin: 10px 0; font-size: 18px; }
        .card .price { color: #d32f2f; font-weight: bold; font-size: 20px; }
        .card .id { color: #888; font-size: 12px; }
    </style>
</head>
<body>

    <h1>üõçÔ∏è Shop ƒêi·ªán Tho·∫°i</h1>

    <div class="controls">
        <label for="sortFilter">S·∫Øp x·∫øp theo:</label>
        <select id="sortFilter">
            <option value="default">M·∫∑c ƒë·ªãnh (M·ªõi nh·∫•t)</option>
            <option value="asc">Gi√°: Th·∫•p ƒë·∫øn Cao</option>
            <option value="desc">Gi√°: Cao ƒë·∫øn Th·∫•p</option>
            <option value="az">T√™n: A - Z</option>
        </select>
    </div>

    <div id="product-list">
        <!-- S·∫£n ph·∫©m s·∫Ω ƒë∆∞·ª£c render v√†o ƒë√¢y -->
    </div>

    <script>
        // 1. D·ªØ li·ªáu g·ªëc (Kh√¥ng thay ƒë·ªïi m·∫£ng n√†y ƒë·ªÉ c√≤n quay l·∫°i m·∫∑c ƒë·ªãnh ƒë∆∞·ª£c)
        const products = [
            { id: 1, name: "iPhone 15 Pro", price: 29000000 },
            { id: 2, name: "Samsung S24 Ultra", price: 31000000 },
            { id: 3, name: "Xiaomi Redmi Note 13", price: 4500000 },
            { id: 4, name: "Oppo Reno 10", price: 9000000 },
            { id: 5, name: "iPhone 11", price: 10000000 },
            { id: 6, name: "Samsung A54", price: 8500000 }
        ];

        const productListEl = document.getElementById("product-list");
        const sortSelectEl = document.getElementById("sortFilter");

        // H√†m ƒë·ªãnh d·∫°ng ti·ªÅn VNƒê (cho ƒë·∫πp)
        function formatMoney(amount) {
            return amount.toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });
        }

        // 2. H√†m hi·ªÉn th·ªã (Render)
        function renderProducts(list) {
            productListEl.innerHTML = ""; // X√≥a c≈©
            
            list.forEach(product => {
                productListEl.innerHTML += `
                    <div class="card">
                        <div class="id">#${product.id}</div>
                        <h3>${product.name}</h3>
                        <div class="price">${formatMoney(product.price)}</div>
                    </div>
                `;
            });
        }

        // 3. H√†m x·ª≠ l√Ω logic s·∫Øp x·∫øp
        function handleSort() {
            const type = sortSelectEl.value; // L·∫•y gi√° tr·ªã ng∆∞·ªùi d√πng ch·ªçn

            // QUAN TR·ªåNG: T·∫°o m·ªôt b·∫£n sao c·ªßa m·∫£ng g·ªëc b·∫±ng [...products]
            // L√Ω do: sort() s·∫Ω l√†m thay ƒë·ªïi tr·ª±c ti·∫øp m·∫£ng. N·∫øu sort th·∫≥ng tr√™n products,
            // ta s·∫Ω l√†m h·ªèng th·ª© t·ª± m·∫∑c ƒë·ªãnh ban ƒë·∫ßu.
            let sortedList = [...products];

            if (type === 'asc') {
                // S·∫Øp x·∫øp gi√° tƒÉng d·∫ßn (a - b)
                sortedList.sort((a, b) => a.price - b.price);
            } 
            else if (type === 'desc') {
                // S·∫Øp x·∫øp gi√° gi·∫£m d·∫ßn (b - a)
                sortedList.sort((a, b) => b.price - a.price);
            } 
            else if (type === 'az') {
                // S·∫Øp x·∫øp t√™n A-Z (D√πng localeCompare cho chu·ªói)
                sortedList.sort((a, b) => a.name.localeCompare(b.name));
            }
            else {
                // M·∫∑c ƒë·ªãnh: Kh√¥ng l√†m g√¨ c·∫£ (ho·∫∑c s·∫Øp x·∫øp theo id n·∫øu c·∫ßn)
                // V√¨ sortedList l√† b·∫£n sao c·ªßa products g·ªëc n√™n n√≥ ƒë√£ ƒë√∫ng th·ª© t·ª± ban ƒë·∫ßu
            }

            // V·∫Ω l·∫°i giao di·ªán v·ªõi m·∫£ng ƒë√£ s·∫Øp x·∫øp
            renderProducts(sortedList);
        }

        // 4. L·∫Øng nghe s·ª± ki·ªán
        sortSelectEl.addEventListener("change", handleSort);

        // Ch·∫°y l·∫ßn ƒë·∫ßu
        renderProducts(products);

    </script>

</body>
</html>