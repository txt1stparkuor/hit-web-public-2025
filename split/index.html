<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Demo split() & includes() - Check ·∫¢nh</title>
</head>
<body>

    <h3>üñºÔ∏è Upload file v√† ki·ªÉm tra xem c√≥ ph·∫£i l√† ·∫¢nh kh√¥ng?</h3>

    <input type="file" id="myFile">
    
    <div id="result" style="margin-top: 20px; font-family: sans-serif;"></div>

    <script>
        const fileInput = document.getElementById("myFile");
        const resultDiv = document.getElementById("result");

        // Danh s√°ch c√°c ƒëu√¥i file ·∫£nh h·ª£p l·ªá
        const validImageExtensions = ["jpg", "jpeg", "png", "gif", "webp", "svg"];

        fileInput.addEventListener("change", function() {
            const file = this.files[0];

            if (file) {
                const fileName = file.name;

                // 1. D√πng split() ƒë·ªÉ t√°ch chu·ªói t√™n file
                const parts = fileName.split(".");
                
                // 2. L·∫•y ph·∫ßn t·ª≠ cu·ªëi c√πng (ƒëu√¥i file) v√† chuy·ªÉn v·ªÅ ch·ªØ th∆∞·ªùng
                // Chuy·ªÉn v·ªÅ ch·ªØ th∆∞·ªùng ƒë·ªÉ so s√°nh ch√≠nh x√°c (tr√°nh l·ªói JPG kh√°c jpg)
                const extension = parts[parts.length - 1].toLowerCase();

                // 3. D√πng includes() ƒë·ªÉ ki·ªÉm tra ƒëu√¥i file c√≥ trong danh s√°ch cho ph√©p kh√¥ng
                const isImage = validImageExtensions.includes(extension);

                // Hi·ªÉn th·ªã k·∫øt qu·∫£
                if (isImage) {
                    resultDiv.innerHTML = `
                        T√™n file: <b>${fileName}</b><br>
                        ƒêu√¥i file: <b style="color: blue">${extension}</b><br>
                        Tr·∫°ng th√°i: <b style="color: green">‚úÖ ƒê√¢y l√† file ·∫£nh h·ª£p l·ªá!</b>
                    `;
                } else {
                    resultDiv.innerHTML = `
                        T√™n file: <b>${fileName}</b><br>
                        ƒêu√¥i file: <b style="color: blue">${extension}</b><br>
                        Tr·∫°ng th√°i: <b style="color: red">‚ùå ƒê√¢y KH√îNG ph·∫£i l√† file ·∫£nh!</b>
                    `;
                }
            }
        });
    </script>

</body>
</html>